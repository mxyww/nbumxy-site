<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>第六章：面向对象程序设计 - 练习题</title>
  <style>
    :root {
      --primary-color: #3776ab; /* Python蓝色 */
      --primary-light: #e8f2fa;
      --secondary-color: #ffd343; /* Python黄色 */
      --accent-color: #30a9a9;
      --correct-color: #06d6a0;
      --incorrect-color: #ef476f;
      --dark-color: #2b2d42;
      --light-color: #f8f9fa;
      --gray-color: #8d99ae;
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      --shadow-hover: 0 20px 40px rgba(0, 0, 0, 0.12);
      --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
      --radius: 16px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "PingFang SC", "Microsoft YaHei", "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #f0f7ff 0%, #e8f0fe 100%);
      min-height: 100vh;
      padding: 20px;
      color: var(--dark-color);
      position: relative;
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* 背景装饰元素 */
    .bg-shapes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }

    .shape {
      position: absolute;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(55, 118, 171, 0.1) 0%, rgba(255, 211, 67, 0.05) 100%);
    }

    .shape-1 {
      width: 300px;
      height: 300px;
      top: -100px;
      right: -100px;
    }

    .shape-2 {
      width: 200px;
      height: 200px;
      bottom: -80px;
      left: -80px;
    }

    .shape-3 {
      width: 150px;
      height: 150px;
      top: 50%;
      left: 10%;
    }

    /* 主容器 */
    .container {
      max-width: 1000px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 30px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      position: relative;
      z-index: 10;
      border: 1px solid rgba(255, 255, 255, 0.2);
      animation: floatIn 0.8s ease-out;
    }

    /* 头部样式 */
    .header {
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    }

    .breadcrumb {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      font-size: 14px;
      color: var(--gray-color);
    }

    .breadcrumb a {
      color: var(--primary-color);
      text-decoration: none;
      transition: var(--transition);
    }

    .breadcrumb a:hover {
      color: var(--secondary-color);
      text-decoration: underline;
    }

    .breadcrumb i {
      margin: 0 10px;
    }

    .chapter-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    h1 {
      font-size: 28px;
      font-weight: 700;
      background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: -0.5px;
    }

    .subtitle {
      color: var(--gray-color);
      font-size: 16px;
      font-weight: 400;
      margin-bottom: 15px;
    }

    /* 进度信息 */
    .progress-info {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .progress-bar-container {
      flex: 1;
      min-width: 200px;
    }

    .progress-bar {
      height: 8px;
      background-color: #e9ecef;
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 5px;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
      border-radius: 4px;
      width: 0%;
      transition: width 0.5s ease;
    }

    .progress-text {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      color: var(--gray-color);
    }

    .score-display {
      background: var(--primary-light);
      padding: 8px 16px;
      border-radius: var(--radius);
      font-weight: 600;
      color: var(--primary-color);
    }

    /* 题目容器 */
    .question-container {
      margin-bottom: 30px;
    }

    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .question-number {
      font-size: 18px;
      font-weight: 700;
      color: var(--primary-color);
    }

    .question-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .tag {
      background: var(--primary-light);
      color: var(--primary-color);
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 500;
    }

    .question-text {
      font-size: 18px;
      margin-bottom: 20px;
      padding: 15px;
      background: var(--light-color);
      border-radius: var(--radius);
      border-left: 4px solid var(--primary-color);
    }

    /* 选项样式 */
    .options-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
      margin-bottom: 25px;
    }

    .option {
      display: flex;
      align-items: center;
      padding: 16px;
      background: var(--light-color);
      border-radius: var(--radius);
      cursor: pointer;
      transition: var(--transition);
      border: 2px solid transparent;
    }

    .option:hover {
      background: white;
      border-color: var(--primary-light);
      transform: translateX(5px);
    }

    .option.selected {
      border-color: var(--primary-color);
      background: var(--primary-light);
    }

    .option.correct {
      border-color: var(--correct-color);
      background: rgba(6, 214, 160, 0.1);
    }

    .option.incorrect {
      border-color: var(--incorrect-color);
      background: rgba(239, 71, 111, 0.1);
    }

    .option-letter {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      font-weight: 700;
      color: var(--dark-color);
      border: 2px solid var(--gray-color);
      flex-shrink: 0;
    }

    .option.selected .option-letter {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .option.correct .option-letter {
      background: var(--correct-color);
      color: white;
      border-color: var(--correct-color);
    }

    .option.incorrect .option-letter {
      background: var(--incorrect-color);
      color: white;
      border-color: var(--incorrect-color);
    }

    .option-text {
      flex: 1;
    }

    /* 解释区域 */
    .explanation {
      padding: 20px;
      background: var(--light-color);
      border-radius: var(--radius);
      margin-top: 20px;
      display: none;
    }

    .explanation.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    .explanation-header {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
      color: var(--primary-color);
      font-weight: 600;
    }

    .explanation-header i {
      margin-right: 10px;
    }

    .explanation-text {
      color: var(--dark-color);
    }

    /* 按钮区域 */
    .buttons-container {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
      flex-wrap: wrap;
      gap: 15px;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: var(--radius);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
    }

    .btn i {
      margin-right: 8px;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(55, 118, 171, 0.3);
    }

    .btn-secondary {
      background: white;
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
    }

    .btn-secondary:hover {
      background: var(--primary-light);
      transform: translateY(-3px);
    }

    .btn-check {
      background: linear-gradient(135deg, var(--accent-color), #0096c7);
      color: white;
    }

    .btn-check:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0, 180, 216, 0.3);
    }

    /* 答题卡 */
    .answer-sheet {
      background: var(--light-color);
      border-radius: var(--radius);
      padding: 20px;
      margin-top: 30px;
      display: none;
    }

    .answer-sheet.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    .answer-sheet-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      color: var(--primary-color);
      font-weight: 600;
    }

    .answer-sheet-header i {
      margin-right: 10px;
    }

    .answer-grid {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 10px;
    }

    @media (max-width: 768px) {
      .answer-grid {
        grid-template-columns: repeat(5, 1fr);
      }
    }

    @media (max-width: 480px) {
      .answer-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }

    .answer-number {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      background: white;
      border: 2px solid var(--gray-color);
      color: var(--dark-color);
    }

    .answer-number:hover {
      transform: scale(1.1);
    }

    .answer-number.answered {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .answer-number.current {
      background: var(--accent-color);
      color: white;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(0, 180, 216, 0.3);
    }

    /* 结果弹窗 */
    .result-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .result-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .result-content {
      background: white;
      border-radius: var(--radius);
      padding: 40px;
      max-width: 500px;
      width: 90%;
      text-align: center;
      box-shadow: var(--shadow-hover);
      transform: translateY(20px);
      transition: transform 0.3s ease;
    }

    .result-modal.show .result-content {
      transform: translateY(0);
    }

    .result-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
    }

    .result-icon i {
      font-size: 36px;
      color: white;
    }

    .result-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 10px;
      color: var(--dark-color);
    }

    .result-score {
      font-size: 48px;
      font-weight: 700;
      margin: 20px 0;
      background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .result-stats {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px 0;
    }

    .stat-item {
      text-align: center;
    }

    .stat-number {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary-color);
      display: block;
    }

    .stat-label {
      font-size: 14px;
      color: var(--gray-color);
      display: block;
    }

    /* 动画 */
    @keyframes floatIn {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(55, 118, 171, 0.4);
      }
      70% {
        box-shadow: 0 0 0 15px rgba(55, 118, 171, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(55, 118, 171, 0);
      }
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
      .container {
        padding: 20px;
      }

      h1 {
        font-size: 24px;
      }

      .question-text {
        font-size: 16px;
      }

      .chapter-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }

      .buttons-container {
        flex-direction: column;
      }

      .btn {
        width: 100%;
        justify-content: center;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }

      .container {
        padding: 15px;
      }

      .option {
        padding: 12px;
      }

      .option-letter {
        width: 30px;
        height: 30px;
        margin-right: 10px;
        font-size: 14px;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- 背景装饰元素 -->
  <div class="bg-shapes">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
  </div>

  <!-- 主容器 -->
  <div class="container">
    <!-- 头部 -->
    <div class="header">
      <div class="breadcrumb">
        <a href="../index.html"><i class="fas fa-home"></i> 首页</a>
        <i class="fas fa-chevron-right"></i>
        <a href="index.html">Python程序设计</a>
        <i class="fas fa-chevron-right"></i>
        <span>第六章：面向对象程序设计</span>
      </div>
      
      <div class="chapter-header">
        <div>
          <h1>第六章：面向对象程序设计</h1>
          <p class="subtitle">本练习包含35道选择题，涵盖类与对象、继承、多态、封装、特殊方法等核心概念</p>
        </div>
        <div class="score-display">得分: <span id="score">0</span>/35</div>
      </div>
      
      <div class="progress-info">
        <div class="progress-bar-container">
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <div class="progress-text">
            <span>进度: <span id="currentQuestion">1</span>/35</span>
            <span id="answeredCount">0/35 已作答</span>
          </div>
        </div>
      </div>
    </div>

    <!-- 题目容器 -->
    <div class="question-container">
      <div class="question-header">
        <div class="question-number">题目 <span id="questionNum">1</span></div>
        <div class="question-tags">
          <span class="tag" id="questionTag">类与对象</span>
          <span class="tag" id="difficultyTag">简单</span>
        </div>
      </div>
      
      <div class="question-text" id="questionText">
        问题内容将在这里显示
      </div>
      
      <div class="options-container" id="optionsContainer">
        <!-- 选项将通过JavaScript动态生成 -->
      </div>
      
      <div class="explanation" id="explanation">
        <div class="explanation-header">
          <i class="fas fa-info-circle"></i> 题目解析
        </div>
        <div class="explanation-text" id="explanationText">
          解析内容将在这里显示
        </div>
      </div>
    </div>

    <!-- 按钮区域 -->
    <div class="buttons-container">
      <button class="btn btn-secondary" id="prevBtn">
        <i class="fas fa-arrow-left"></i> 上一题
      </button>
      
      <button class="btn btn-check" id="checkBtn">
        <i class="fas fa-check-circle"></i> 检查答案
      </button>
      
      <button class="btn btn-primary" id="nextBtn">
        下一题 <i class="fas fa-arrow-right"></i>
      </button>
    </div>
    
    <button class="btn btn-secondary" id="toggleAnswerSheetBtn" style="width: 100%; margin-top: 15px;">
      <i class="fas fa-list"></i> 显示/隐藏答题卡
    </button>
    
    <!-- 答题卡 -->
    <div class="answer-sheet" id="answerSheet">
      <div class="answer-sheet-header">
        <i class="fas fa-clipboard-list"></i> 答题卡
      </div>
      <div class="answer-grid" id="answerGrid">
        <!-- 答题卡数字将通过JavaScript动态生成 -->
      </div>
    </div>
    
    <!-- 底部按钮 -->
    <div class="buttons-container" style="margin-top: 30px;">
      <a href="index.html" class="btn btn-secondary">
        <i class="fas fa-arrow-left"></i> 返回章节列表
      </a>
      
      <button class="btn btn-primary" id="submitBtn">
        <i class="fas fa-paper-plane"></i> 提交练习
      </button>
    </div>
  </div>

  <!-- 结果弹窗 -->
  <div class="result-modal" id="resultModal">
    <div class="result-content">
      <div class="result-icon">
        <i class="fas fa-trophy"></i>
      </div>
      <h2 class="result-title">练习完成!</h2>
      <p>您已完成第六章的所有题目</p>
      
      <div class="result-score" id="finalScore">0/35</div>
      
      <div class="result-stats">
        <div class="stat-item">
          <span class="stat-number" id="correctCount">0</span>
          <span class="stat-label">正确</span>
        </div>
        <div class="stat-item">
          <span class="stat-number" id="incorrectCount">0</span>
          <span class="stat-label">错误</span>
        </div>
        <div class="stat-item">
          <span class="stat-number" id="accuracy">0%</span>
          <span class="stat-label">准确率</span>
        </div>
      </div>
      
      <div style="display: flex; gap: 15px; margin-top: 30px;">
        <button class="btn btn-secondary" id="reviewBtn" style="flex: 1;">
          <i class="fas fa-redo"></i> 复习错题
        </button>
        <button class="btn btn-primary" id="returnBtn" style="flex: 1;">
          <i class="fas fa-home"></i> 返回章节
        </button>
      </div>
    </div>
  </div>

  <script>
    // 题目数据 - 面向对象程序设计
    const questions = [
      {
        id: 1,
        question: "在Python中，定义类的关键字是什么？",
        options: [
          "A. class",
          "B. Class",
          "C. object",
          "D. Object"
        ],
        correctAnswer: 0,
        explanation: "Python使用class关键字定义类，格式为：class 类名:",
        tag: "类与对象",
        difficulty: "简单"
      },
      {
        id: 2,
        question: "下列哪个是类的特殊方法，用于初始化新创建的对象？",
        options: [
          "A. __init__()",
          "B. __new__()",
          "C. __start__()",
          "D. __begin__()"
        ],
        correctAnswer: 0,
        explanation: "__init__()方法是类的构造方法，用于初始化新创建的对象。它会在对象创建后自动调用。",
        tag: "特殊方法",
        difficulty: "简单"
      },
      {
        id: 3,
        question: "在Python类中，self参数表示什么？",
        options: [
          "A. 类本身",
          "B. 类的实例（对象）",
          "C. 父类",
          "D. 类方法"
        ],
        correctAnswer: 1,
        explanation: "self参数表示类的实例（对象）本身，通过它可以访问对象的属性和方法。",
        tag: "类与对象",
        difficulty: "简单"
      },
      {
        id: 4,
        question: "如何创建类的实例？",
        options: [
          "A. 类名()",
          "B. new 类名()",
          "C. create 类名()",
          "D. 类名.create()"
        ],
        correctAnswer: 0,
        explanation: "创建类的实例只需要使用类名后跟括号，如：obj = ClassName()",
        tag: "类与对象",
        difficulty: "简单"
      },
      {
        id: 5,
        question: "面向对象编程的三大特征是什么？",
        options: [
          "A. 封装、继承、多态",
          "B. 抽象、封装、继承",
          "C. 封装、多态、重载",
          "D. 继承、多态、重写"
        ],
        correctAnswer: 0,
        explanation: "面向对象编程的三大特征是：封装、继承和多态。",
        tag: "面向对象基础",
        difficulty: "简单"
      },
      {
        id: 6,
        question: "下列哪个关于Python类的说法是正确的？",
        options: [
          "A. 一个类只能有一个父类",
          "B. 一个类可以有多个父类",
          "C. 类不能继承",
          "D. 类只能继承自object类"
        ],
        correctAnswer: 1,
        explanation: "Python支持多重继承，一个类可以有多个父类。",
        tag: "继承",
        difficulty: "简单"
      },
      {
        id: 7,
        question: "如何定义一个类属性？",
        options: [
          "A. 在__init__方法内部定义",
          "B. 在类内部但不在任何方法内部定义",
          "C. 使用@classmethod装饰器定义",
          "D. 使用@property装饰器定义"
        ],
        correctAnswer: 1,
        explanation: "类属性在类内部但不在任何方法内部定义，所有实例共享类属性。",
        tag: "类属性",
        difficulty: "简单"
      },
      {
        id: 8,
        question: "实例属性和类属性的区别是什么？",
        options: [
          "A. 实例属性属于实例，类属性属于类",
          "B. 实例属性可以修改，类属性不能修改",
          "C. 实例属性在所有实例中共享，类属性不共享",
          "D. 没有区别"
        ],
        correctAnswer: 0,
        explanation: "实例属性属于类的实例，每个实例有自己的副本；类属性属于类，所有实例共享同一个类属性。",
        tag: "类属性与实例属性",
        difficulty: "中等"
      },
      {
        id: 9,
        question: "如何定义类方法？",
        options: [
          "A. 使用@classmethod装饰器",
          "B. 使用@staticmethod装饰器",
          "C. 使用@property装饰器",
          "D. 在类内部定义的任何方法都是类方法"
        ],
        correctAnswer: 0,
        explanation: "类方法使用@classmethod装饰器定义，第一个参数通常是cls，表示类本身。",
        tag: "类方法",
        difficulty: "中等"
      },
      {
        id: 10,
        question: "如何定义静态方法？",
        options: [
          "A. 使用@classmethod装饰器",
          "B. 使用@staticmethod装饰器",
          "C. 使用@property装饰器",
          "D. 在类内部定义的任何方法都是静态方法"
        ],
        correctAnswer: 1,
        explanation: "静态方法使用@staticmethod装饰器定义，不需要self或cls参数。",
        tag: "静态方法",
        difficulty: "中等"
      },
      {
        id: 11,
        question: "下列哪个方法用于返回对象的字符串表示？",
        options: [
          "A. __str__()",
          "B. __repr__()",
          "C. __str__()和__repr__()",
          "D. __string__()"
        ],
        correctAnswer: 2,
        explanation: "__str__()返回对象的用户友好字符串表示，__repr__()返回对象的官方字符串表示（通常可用于重新创建对象）。",
        tag: "特殊方法",
        difficulty: "中等"
      },
      {
        id: 12,
        question: "在Python中，如何实现继承？",
        options: [
          "A. class ChildClass(ParentClass):",
          "B. class ChildClass extends ParentClass:",
          "C. class ChildClass inherits ParentClass:",
          "D. class ChildClass: ParentClass"
        ],
        correctAnswer: 0,
        explanation: "Python中通过在类定义时在括号中指定父类来实现继承：class ChildClass(ParentClass):",
        tag: "继承",
        difficulty: "简单"
      },
      {
        id: 13,
        question: "如何调用父类的方法？",
        options: [
          "A. super().method_name()",
          "B. ParentClass.method_name(self)",
          "C. self.parent.method_name()",
          "D. 选项A和B都正确"
        ],
        correctAnswer: 3,
        explanation: "可以使用super()函数或直接通过父类名调用父类方法。super()方法更常用，尤其是在多重继承中。",
        tag: "继承",
        difficulty: "中等"
      },
      {
        id: 14,
        question: "多态在Python中如何体现？",
        options: [
          "A. 不同类可以有同名方法，实现不同功能",
          "B. 子类可以重写父类的方法",
          "C. 可以使用相同的接口调用不同对象的方法",
          "D. 以上都正确"
        ],
        correctAnswer: 3,
        explanation: "多态在Python中体现为：不同类可以有同名方法，子类可以重写父类方法，可以使用相同接口调用不同对象的方法。",
        tag: "多态",
        difficulty: "中等"
      },
      {
        id: 15,
        question: "@property装饰器的作用是什么？",
        options: [
          "A. 将方法转换为属性",
          "B. 将属性转换为方法",
          "C. 定义类方法",
          "D. 定义静态方法"
        ],
        correctAnswer: 0,
        explanation: "@property装饰器将方法转换为属性，可以通过属性方式访问，而不需要调用括号。",
        tag: "属性装饰器",
        difficulty: "中等"
      },
      {
        id: 16,
        question: "下列哪个是封装的表现？",
        options: [
          "A. 将数据和方法包装在类中",
          "B. 使用私有属性和方法",
          "C. 提供公共接口访问私有数据",
          "D. 以上都正确"
        ],
        correctAnswer: 3,
        explanation: "封装包括：将数据和方法包装在类中，使用私有属性和方法隐藏实现细节，通过公共接口访问数据。",
        tag: "封装",
        difficulty: "中等"
      },
      {
        id: 17,
        question: "Python中如何定义私有属性？",
        options: [
          "A. 使用private关键字",
          "B. 属性名以单下划线开头",
          "C. 属性名以双下划线开头",
          "D. 属性名以双下划线开头和结尾"
        ],
        correctAnswer: 2,
        explanation: "Python中私有属性以双下划线开头（如__private_attr），会被名称修饰（name mangling）。",
        tag: "封装",
        difficulty: "中等"
      },
      {
        id: 18,
        question: "特殊方法__len__()的作用是什么？",
        options: [
          "A. 返回对象的长度",
          "B. 返回对象的字符串表示",
          "C. 比较两个对象是否相等",
          "D. 计算对象的哈希值"
        ],
        correctAnswer: 0,
        explanation: "__len__()方法返回对象的长度，当调用len(obj)时会调用此方法。",
        tag: "特殊方法",
        difficulty: "简单"
      },
      {
        id: 19,
        question: "如何实现运算符重载？",
        options: [
          "A. 定义特殊方法如__add__(), __sub__()等",
          "B. 使用@operator装饰器",
          "C. 修改内置运算符",
          "D. 不能重载运算符"
        ],
        correctAnswer: 0,
        explanation: "通过定义特殊方法实现运算符重载，如__add__()对应+运算符，__sub__()对应-运算符。",
        tag: "运算符重载",
        difficulty: "中等"
      },
      {
        id: 20,
        question: "下列哪个关于抽象类的说法是正确的？",
        options: [
          "A. Python没有抽象类",
          "B. 抽象类不能被实例化",
          "C. 抽象类必须包含抽象方法",
          "D. 选项B和C都正确"
        ],
        correctAnswer: 1,
        explanation: "抽象类不能被实例化，但Python中的抽象类不一定必须包含抽象方法（除非使用abc模块）。",
        tag: "抽象类",
        difficulty: "中等"
      },
      {
        id: 21,
        question: "如何使用abc模块定义抽象类？",
        options: [
          "A. 继承ABC类并使用@abstractmethod装饰器",
          "B. 使用abstract关键字",
          "C. 在类定义前加@abstract",
          "D. 使用Abstract类"
        ],
        correctAnswer: 0,
        explanation: "使用abc模块定义抽象类：继承ABC类，使用@abstractmethod装饰器标记抽象方法。",
        tag: "抽象类",
        difficulty: "中等"
      },
      {
        id: 22,
        question: "isinstance()函数的作用是什么？",
        options: [
          "A. 检查对象是否是类的实例",
          "B. 检查类是否是另一个类的子类",
          "C. 检查两个对象是否相同",
          "D. 检查对象是否有特定属性"
        ],
        correctAnswer: 0,
        explanation: "isinstance(obj, Class)检查对象obj是否是类Class或其子类的实例。",
        tag: "类型检查",
        difficulty: "简单"
      },
      {
        id: 23,
        question: "issubclass()函数的作用是什么？",
        options: [
          "A. 检查对象是否是类的实例",
          "B. 检查类是否是另一个类的子类",
          "C. 检查两个对象是否相同",
          "D. 检查对象是否有特定属性"
        ],
        correctAnswer: 1,
        explanation: "issubclass(Class1, Class2)检查Class1是否是Class2的子类。",
        tag: "类型检查",
        difficulty: "简单"
      },
      {
        id: 24,
        question: "MRO（方法解析顺序）是什么？",
        options: [
          "A. 多重继承中查找方法的顺序",
          "B. 方法的返回值顺序",
          "C. 方法的参数顺序",
          "D. 方法的调用顺序"
        ],
        correctAnswer: 0,
        explanation: "MRO（Method Resolution Order）是多重继承中查找方法的顺序，Python使用C3线性化算法。",
        tag: "多重继承",
        difficulty: "中等"
      },
      {
        id: 25,
        question: "如何查看类的MRO？",
        options: [
          "A. 类名.__mro__",
          "B. 类名.mro()",
          "C. inspect.getmro(类名)",
          "D. 以上都正确"
        ],
        correctAnswer: 3,
        explanation: "可以通过类名.__mro__、类名.mro()或inspect.getmro(类名)查看类的MRO。",
        tag: "多重继承",
        difficulty: "中等"
      },
      {
        id: 26,
        question: "特殊方法__call__()的作用是什么？",
        options: [
          "A. 使对象可调用",
          "B. 初始化对象",
          "C. 删除对象",
          "D. 比较对象"
        ],
        correctAnswer: 0,
        explanation: "__call__()方法使对象可以像函数一样被调用，如obj(arg1, arg2)。",
        tag: "特殊方法",
        difficulty: "中等"
      },
      {
        id: 27,
        question: "下列哪个关于__new__()方法的说法是正确的？",
        options: [
          "A. 在__init__()之前调用",
          "B. 负责创建对象实例",
          "C. 返回新创建的对象",
          "D. 以上都正确"
        ],
        correctAnswer: 3,
        explanation: "__new__()方法在__init__()之前调用，负责创建并返回新的对象实例。",
        tag: "特殊方法",
        difficulty: "中等"
      },
      {
        id: 28,
        question: "描述符（descriptor）是什么？",
        options: [
          "A. 实现了__get__(), __set__()或__delete__()方法的对象",
          "B. 类的属性",
          "C. 类的方法",
          "D. 对象的字符串表示"
        ],
        correctAnswer: 0,
        explanation: "描述符是实现了__get__(), __set__()或__delete__()方法的对象，用于管理属性的访问。",
        tag: "描述符",
        difficulty: "较难"
      },
      {
        id: 29,
        question: "元类（metaclass）是什么？",
        options: [
          "A. 类的类",
          "B. 创建类的类",
          "C. 控制类的创建行为",
          "D. 以上都正确"
        ],
        correctAnswer: 3,
        explanation: "元类是类的类，用于创建类并控制类的创建行为。",
        tag: "元类",
        difficulty: "较难"
      },
      {
        id: 30,
        question: "如何指定类的元类？",
        options: [
          "A. class ClassName(metaclass=MetaClass):",
          "B. class ClassName(MetaClass):",
          "C. metaclass = MetaClass class ClassName:",
          "D. class ClassName: metaclass MetaClass"
        ],
        correctAnswer: 0,
        explanation: "通过metaclass参数指定元类：class ClassName(metaclass=MetaClass):",
        tag: "元类",
        difficulty: "较难"
      },
      {
        id: 31,
        question: "下列哪个关于Python中对象属性的说法是正确的？",
        options: [
          "A. 所有属性都是公开的",
          "B. 可以通过__dict__属性查看对象的所有属性",
          "C. 可以通过点号访问属性",
          "D. 以上都正确"
        ],
        correctAnswer: 3,
        explanation: "Python中所有属性默认都是公开的（尽管有命名约定表示私有），可以通过__dict__查看所有属性，通过点号访问属性。",
        tag: "对象属性",
        difficulty: "中等"
      },
      {
        id: 32,
        question: "hasattr()函数的作用是什么？",
        options: [
          "A. 检查对象是否有指定属性",
          "B. 获取对象的属性值",
          "C. 设置对象的属性值",
          "D. 删除对象的属性"
        ],
        correctAnswer: 0,
        explanation: "hasattr(obj, 'attr')检查对象obj是否有属性'attr'，返回布尔值。",
        tag: "内置函数",
        difficulty: "简单"
      },
      {
        id: 33,
        question: "getattr()函数的作用是什么？",
        options: [
          "A. 检查对象是否有指定属性",
          "B. 获取对象的属性值",
          "C. 设置对象的属性值",
          "D. 删除对象的属性"
        ],
        correctAnswer: 1,
        explanation: "getattr(obj, 'attr')获取对象obj的属性'attr'的值，可以指定默认值。",
        tag: "内置函数",
        difficulty: "简单"
      },
      {
        id: 34,
        question: "setattr()函数的作用是什么？",
        options: [
          "A. 检查对象是否有指定属性",
          "B. 获取对象的属性值",
          "C. 设置对象的属性值",
          "D. 删除对象的属性"
        ],
        correctAnswer: 2,
        explanation: "setattr(obj, 'attr', value)设置对象obj的属性'attr'的值为value。",
        tag: "内置函数",
        difficulty: "简单"
      },
      {
        id: 35,
        question: "鸭子类型（Duck Typing）是什么？",
        options: [
          "A. 关注对象有什么方法，而不是对象的类型",
          "B. 一种继承机制",
          "C. 一种封装机制",
          "D. 一种多态实现方式"
        ],
        correctAnswer: 0,
        explanation: "鸭子类型关注对象有什么方法（能做什么），而不是对象的类型（是什么）。\"如果它走起来像鸭子，叫起来像鸭子，那么它就是鸭子。\"",
        tag: "鸭子类型",
        difficulty: "中等"
      }
    ];

    // 初始化变量
    let currentQuestionIndex = 0;
    let userAnswers = new Array(questions.length).fill(null);
    let score = 0;
    let answeredCount = 0;

    // DOM元素
    const questionNumElement = document.getElementById('questionNum');
    const questionTagElement = document.getElementById('questionTag');
    const difficultyTagElement = document.getElementById('difficultyTag');
    const questionTextElement = document.getElementById('questionText');
    const optionsContainer = document.getElementById('optionsContainer');
    const explanationElement = document.getElementById('explanation');
    const explanationTextElement = document.getElementById('explanationText');
    const progressFillElement = document.getElementById('progressFill');
    const currentQuestionElement = document.getElementById('currentQuestion');
    const answeredCountElement = document.getElementById('answeredCount');
    const scoreElement = document.getElementById('score');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const checkBtn = document.getElementById('checkBtn');
    const submitBtn = document.getElementById('submitBtn');
    const toggleAnswerSheetBtn = document.getElementById('toggleAnswerSheetBtn');
    const answerSheet = document.getElementById('answerSheet');
    const answerGrid = document.getElementById('answerGrid');
    const resultModal = document.getElementById('resultModal');
    const finalScoreElement = document.getElementById('finalScore');
    const correctCountElement = document.getElementById('correctCount');
    const incorrectCountElement = document.getElementById('incorrectCount');
    const accuracyElement = document.getElementById('accuracy');
    const reviewBtn = document.getElementById('reviewBtn');
    const returnBtn = document.getElementById('returnBtn');

    // 初始化答题卡
    function initAnswerSheet() {
      answerGrid.innerHTML = '';
      for (let i = 0; i < questions.length; i++) {
        const numberElement = document.createElement('div');
        numberElement.className = 'answer-number';
        numberElement.textContent = i + 1;
        numberElement.dataset.index = i;
        
        numberElement.addEventListener('click', () => {
          goToQuestion(parseInt(numberElement.dataset.index));
        });
        
        answerGrid.appendChild(numberElement);
      }
    }

    // 更新答题卡
    function updateAnswerSheet() {
      const answerNumbers = document.querySelectorAll('.answer-number');
      answerNumbers.forEach((number, index) => {
        number.classList.remove('answered', 'current');
        
        if (userAnswers[index] !== null) {
          number.classList.add('answered');
        }
        
        if (index === currentQuestionIndex) {
          number.classList.add('current');
        }
      });
    }

    // 更新进度
    function updateProgress() {
      const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
      progressFillElement.style.width = `${progress}%`;
      currentQuestionElement.textContent = currentQuestionIndex + 1;
      
      // 计算已回答题目数
      answeredCount = userAnswers.filter(answer => answer !== null).length;
      answeredCountElement.textContent = `${answeredCount}/${questions.length} 已作答`;
      
      // 更新得分
      score = 0;
      for (let i = 0; i < questions.length; i++) {
        if (userAnswers[i] === questions[i].correctAnswer) {
          score++;
        }
      }
      scoreElement.textContent = score;
    }

    // 显示题目
    function showQuestion(index) {
      const question = questions[index];
      
      // 更新题目信息
      questionNumElement.textContent = index + 1;
      questionTagElement.textContent = question.tag;
      difficultyTagElement.textContent = question.difficulty;
      questionTextElement.textContent = question.question;
      
      // 清除选项
      optionsContainer.innerHTML = '';
      
      // 添加选项
      question.options.forEach((option, optionIndex) => {
        const optionElement = document.createElement('div');
        optionElement.className = 'option';
        
        const optionLetter = document.createElement('div');
        optionLetter.className = 'option-letter';
        optionLetter.textContent = String.fromCharCode(65 + optionIndex); // A, B, C, D
        
        const optionText = document.createElement('div');
        optionText.className = 'option-text';
        optionText.textContent = option;
        
        optionElement.appendChild(optionLetter);
        optionElement.appendChild(optionText);
        
        // 检查是否已选择此选项
        if (userAnswers[index] === optionIndex) {
          optionElement.classList.add('selected');
        }
        
        // 检查是否已检查答案
        if (userAnswers[index] !== null && optionIndex === question.correctAnswer) {
          optionElement.classList.add('correct');
        } else if (userAnswers[index] === optionIndex && userAnswers[index] !== question.correctAnswer) {
          optionElement.classList.add('incorrect');
        }
        
        optionElement.addEventListener('click', () => {
          if (userAnswers[index] === null) {
            // 清除其他选项的选择状态
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            
            // 选择当前选项
            optionElement.classList.add('selected');
            userAnswers[index] = optionIndex;
            
            // 更新进度和答题卡
            updateProgress();
            updateAnswerSheet();
            
            // 如果已回答所有问题，启用提交按钮
            if (answeredCount === questions.length) {
              submitBtn.disabled = false;
            }
          }
        });
        
        optionsContainer.appendChild(optionElement);
      });
      
      // 显示或隐藏解析
      if (userAnswers[index] !== null) {
        explanationTextElement.textContent = question.explanation;
        explanationElement.classList.add('show');
      } else {
        explanationElement.classList.remove('show');
      }
      
      // 更新按钮状态
      prevBtn.disabled = index === 0;
      nextBtn.disabled = index === questions.length - 1;
      
      // 更新进度和答题卡
      updateProgress();
      updateAnswerSheet();
    }

    // 跳转到指定题目
    function goToQuestion(index) {
      currentQuestionIndex = index;
      showQuestion(currentQuestionIndex);
    }

    // 检查答案
    function checkAnswer() {
      if (userAnswers[currentQuestionIndex] === null) {
        alert('请先选择一个答案！');
        return;
      }
      
      const question = questions[currentQuestionIndex];
      explanationTextElement.textContent = question.explanation;
      explanationElement.classList.add('show');
      
      // 标记正确和错误的选项
      const options = document.querySelectorAll('.option');
      options.forEach((option, index) => {
        if (index === question.correctAnswer) {
          option.classList.add('correct');
        } else if (index === userAnswers[currentQuestionIndex] && index !== question.correctAnswer) {
          option.classList.add('incorrect');
        }
      });
    }

    // 提交练习
    function submitPractice() {
      // 检查是否所有题目都已作答
      const unanswered = userAnswers.filter(answer => answer === null).length;
      if (unanswered > 0) {
        if (!confirm(`您还有${unanswered}道题未作答，确定要提交吗？`)) {
          return;
        }
      }
      
      // 计算最终得分
      score = 0;
      for (let i = 0; i < questions.length; i++) {
        if (userAnswers[i] === questions[i].correctAnswer) {
          score++;
        }
      }
      
      // 更新结果弹窗
      finalScoreElement.textContent = `${score}/${questions.length}`;
      correctCountElement.textContent = score;
      incorrectCountElement.textContent = questions.length - score;
      const accuracy = questions.length > 0 ? Math.round((score / questions.length) * 100) : 0;
      accuracyElement.textContent = `${accuracy}%`;
      
      // 显示结果弹窗
      resultModal.classList.add('show');
      
      // 保存进度到本地存储
      localStorage.setItem('python-chapter6-progress', Math.round((score / questions.length) * 100));
    }

    // 事件监听器
    prevBtn.addEventListener('click', () => {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        showQuestion(currentQuestionIndex);
      }
    });

    nextBtn.addEventListener('click', () => {
      if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        showQuestion(currentQuestionIndex);
      }
    });

    checkBtn.addEventListener('click', checkAnswer);

    submitBtn.addEventListener('click', submitPractice);

    toggleAnswerSheetBtn.addEventListener('click', () => {
      answerSheet.classList.toggle('show');
    });

    reviewBtn.addEventListener('click', () => {
      // 查找错题
      const wrongAnswers = [];
      for (let i = 0; i < questions.length; i++) {
        if (userAnswers[i] !== questions[i].correctAnswer) {
          wrongAnswers.push(i);
        }
      }
      
      if (wrongAnswers.length > 0) {
        // 跳转到第一个错题
        goToQuestion(wrongAnswers[0]);
      } else {
        alert('恭喜！您没有错题。');
      }
      
      resultModal.classList.remove('show');
    });

    returnBtn.addEventListener('click', () => {
      window.location.href = 'index.html';
    });

    // 初始化
    document.addEventListener('DOMContentLoaded', () => {
      // 从本地存储加载之前的答案（如果有）
      const savedAnswers = localStorage.getItem('python-chapter6-answers');
      if (savedAnswers) {
        try {
          userAnswers = JSON.parse(savedAnswers);
          answeredCount = userAnswers.filter(answer => answer !== null).length;
        } catch (e) {
          console.error('加载答案失败:', e);
        }
      }
      
      initAnswerSheet();
      showQuestion(currentQuestionIndex);
      updateProgress();
      
      // 保存答案到本地存储（页面卸载时）
      window.addEventListener('beforeunload', () => {
        localStorage.setItem('python-chapter6-answers', JSON.stringify(userAnswers));
      });
    });

    // 添加键盘导航支持
    document.addEventListener('keydown', (e) => {
      // 数字键1-9跳转到对应题目（1-9题）
      if (e.key >= '1' && e.key <= '9') {
        const num = parseInt(e.key) - 1;
        if (num < questions.length) {
          goToQuestion(num);
        }
      }
      
      // 方向键导航
      if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
        e.preventDefault();
        if (currentQuestionIndex > 0) {
          currentQuestionIndex--;
          showQuestion(currentQuestionIndex);
        }
      } else if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
        e.preventDefault();
        if (currentQuestionIndex < questions.length - 1) {
          currentQuestionIndex++;
          showQuestion(currentQuestionIndex);
        }
      }
      
      // 空格键或回车键检查答案
      if ((e.key === ' ' || e.key === 'Enter') && e.target.tagName !== 'BUTTON' && e.target.tagName !== 'A') {
        e.preventDefault();
        checkAnswer();
      }
      
      // A-D键选择选项
      if (e.key >= 'a' && e.key <= 'd') {
        const optionIndex = e.key.charCodeAt(0) - 97; // a=0, b=1, c=2, d=3
        if (optionIndex < questions[currentQuestionIndex].options.length) {
          userAnswers[currentQuestionIndex] = optionIndex;
          showQuestion(currentQuestionIndex);
        }
      }
    });
  </script>
</body>
</html>